{"ast":null,"code":"export var defaultServer=\"https://localhost:2000\";export function createBasicAuthHeader(username,password){const credentials=\"\".concat(username,\":\").concat(password);const encoded=btoa(credentials);return\"Basic \".concat(encoded);}export async function loggedIn(){var server=localStorage.getItem(\"server\");var token=localStorage.getItem(\"authToken\");if(!token){return false;}try{const response=await fetch(server+\"/1/run\",{method:\"GET\",headers:{\"Authorization\":\"Bearer \"+token}});if(response.status===200){console.log(\"logged in\");return true;}else{console.log(\"not logged in\",response.status);return false;}}catch(err){return false;};}export function loggedInServer(){return localStorage.getItem(\"server\");}export function logOut(){localStorage.removeItem(\"server\");localStorage.removeItem(\"authToken\");}","map":{"version":3,"names":["defaultServer","createBasicAuthHeader","username","password","credentials","concat","encoded","btoa","loggedIn","server","localStorage","getItem","token","response","fetch","method","headers","status","console","log","err","loggedInServer","logOut","removeItem"],"sources":["/home/andrew/my-app/src/Util.js"],"sourcesContent":["export var defaultServer = \"https://localhost:2000\";\n\nexport function createBasicAuthHeader(username, password) {\n    const credentials = `${username}:${password}`;\n    const encoded = btoa(credentials);\n    return `Basic ${encoded}`;\n}\n\nexport async function loggedIn() {\n    var server = localStorage.getItem(\"server\");\n    var token = localStorage.getItem(\"authToken\");\n    if (!token) {\n        return false;\n    }\n    try {\n        const response = await fetch(server + \"/1/run\", {\n            method: \"GET\",\n            headers: { \"Authorization\": \"Bearer \" + token }\n        });\n\n        if (response.status === 200) {\n            console.log(\"logged in\");\n            return true;\n        } else {\n            console.log(\"not logged in\", response.status);\n            return false;\n        }\n    }\n    catch (err) {\n        return false\n    };\n}\n\nexport function loggedInServer() {\n    return localStorage.getItem(\"server\");\n}\n\nexport function logOut() {\n    localStorage.removeItem(\"server\");\n    localStorage.removeItem(\"authToken\");\n}\n"],"mappings":"AAAA,MAAO,IAAI,CAAAA,aAAa,CAAG,wBAAwB,CAEnD,MAAO,SAAS,CAAAC,qBAAqBA,CAACC,QAAQ,CAAEC,QAAQ,CAAE,CACtD,KAAM,CAAAC,WAAW,IAAAC,MAAA,CAAMH,QAAQ,MAAAG,MAAA,CAAIF,QAAQ,CAAE,CAC7C,KAAM,CAAAG,OAAO,CAAGC,IAAI,CAACH,WAAW,CAAC,CACjC,eAAAC,MAAA,CAAgBC,OAAO,EAC3B,CAEA,MAAO,eAAe,CAAAE,QAAQA,CAAA,CAAG,CAC7B,GAAI,CAAAC,MAAM,CAAGC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,CAC3C,GAAI,CAAAC,KAAK,CAAGF,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CAC7C,GAAI,CAACC,KAAK,CAAE,CACR,MAAO,MAAK,CAChB,CACA,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAACL,MAAM,CAAG,QAAQ,CAAE,CAC5CM,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CAAE,eAAe,CAAE,SAAS,CAAGJ,KAAM,CAClD,CAAC,CAAC,CAEF,GAAIC,QAAQ,CAACI,MAAM,GAAK,GAAG,CAAE,CACzBC,OAAO,CAACC,GAAG,CAAC,WAAW,CAAC,CACxB,MAAO,KAAI,CACf,CAAC,IAAM,CACHD,OAAO,CAACC,GAAG,CAAC,eAAe,CAAEN,QAAQ,CAACI,MAAM,CAAC,CAC7C,MAAO,MAAK,CAChB,CACJ,CACA,MAAOG,GAAG,CAAE,CACR,MAAO,MAAK,CAChB,CAAC,CACL,CAEA,MAAO,SAAS,CAAAC,cAAcA,CAAA,CAAG,CAC7B,MAAO,CAAAX,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,CACzC,CAEA,MAAO,SAAS,CAAAW,MAAMA,CAAA,CAAG,CACrBZ,YAAY,CAACa,UAAU,CAAC,QAAQ,CAAC,CACjCb,YAAY,CAACa,UAAU,CAAC,WAAW,CAAC,CACxC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
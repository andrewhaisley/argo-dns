{"ast":null,"code":"export var defaultServer = \"https://localhost:2000\";\nexport function createBasicAuthHeader(username, password) {\n  const credentials = `${username}:${password}`;\n  const encoded = btoa(credentials);\n  return `Basic ${encoded}`;\n}\nexport async function loggedIn() {\n  var server = localStorage.getItem(\"server\");\n  var token = localStorage.getItem(\"authToken\");\n  if (!token) {\n    return false;\n  }\n  try {\n    const response = await fetch(server + \"/1/run\", {\n      method: \"GET\",\n      headers: {\n        \"Authorization\": \"Bearer \" + token\n      }\n    });\n    if (response.status === 200) {\n      console.log(\"logged in\");\n      return true;\n    } else {\n      console.log(\"not logged in\", response.status);\n      return false;\n    }\n  } catch (err) {\n    return false;\n  }\n  ;\n}\nexport function loggedInServer() {\n  return localStorage.getItem(\"server\");\n}\nexport function logOut() {\n  console.log(\"logout\");\n  localStorage.removeItem(defaultServer + \":authToken\");\n}","map":{"version":3,"names":["defaultServer","createBasicAuthHeader","username","password","credentials","encoded","btoa","loggedIn","server","localStorage","getItem","token","response","fetch","method","headers","status","console","log","err","loggedInServer","logOut","removeItem"],"sources":["/home/andrew/my-app/src/Util.js"],"sourcesContent":["export var defaultServer = \"https://localhost:2000\";\n\nexport function createBasicAuthHeader(username, password) {\n    const credentials = `${username}:${password}`;\n    const encoded = btoa(credentials);\n    return `Basic ${encoded}`;\n}\n\nexport async function loggedIn() {\n    var server = localStorage.getItem(\"server\");\n    var token = localStorage.getItem(\"authToken\");\n    if (!token) {\n        return false;\n    }\n    try {\n        const response = await fetch(server + \"/1/run\", {\n            method: \"GET\",\n            headers: { \"Authorization\": \"Bearer \" + token }\n        });\n\n        if (response.status === 200) {\n            console.log(\"logged in\");\n            return true;\n        } else {\n            console.log(\"not logged in\", response.status);\n            return false;\n        }\n    }\n    catch (err) {\n        return false\n    };\n}\n\nexport function loggedInServer() {\n    return localStorage.getItem(\"server\");\n}\n\nexport function logOut() {\n    console.log(\"logout\");\n    localStorage.removeItem(defaultServer + \":authToken\");\n}\n"],"mappings":"AAAA,OAAO,IAAIA,aAAa,GAAG,wBAAwB;AAEnD,OAAO,SAASC,qBAAqBA,CAACC,QAAQ,EAAEC,QAAQ,EAAE;EACtD,MAAMC,WAAW,GAAG,GAAGF,QAAQ,IAAIC,QAAQ,EAAE;EAC7C,MAAME,OAAO,GAAGC,IAAI,CAACF,WAAW,CAAC;EACjC,OAAO,SAASC,OAAO,EAAE;AAC7B;AAEA,OAAO,eAAeE,QAAQA,CAAA,EAAG;EAC7B,IAAIC,MAAM,GAAGC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;EAC3C,IAAIC,KAAK,GAAGF,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;EAC7C,IAAI,CAACC,KAAK,EAAE;IACR,OAAO,KAAK;EAChB;EACA,IAAI;IACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACL,MAAM,GAAG,QAAQ,EAAE;MAC5CM,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;QAAE,eAAe,EAAE,SAAS,GAAGJ;MAAM;IAClD,CAAC,CAAC;IAEF,IAAIC,QAAQ,CAACI,MAAM,KAAK,GAAG,EAAE;MACzBC,OAAO,CAACC,GAAG,CAAC,WAAW,CAAC;MACxB,OAAO,IAAI;IACf,CAAC,MAAM;MACHD,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEN,QAAQ,CAACI,MAAM,CAAC;MAC7C,OAAO,KAAK;IAChB;EACJ,CAAC,CACD,OAAOG,GAAG,EAAE;IACR,OAAO,KAAK;EAChB;EAAC;AACL;AAEA,OAAO,SAASC,cAAcA,CAAA,EAAG;EAC7B,OAAOX,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;AACzC;AAEA,OAAO,SAASW,MAAMA,CAAA,EAAG;EACrBJ,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC;EACrBT,YAAY,CAACa,UAAU,CAACtB,aAAa,GAAG,YAAY,CAAC;AACzD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}